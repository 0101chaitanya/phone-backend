{"version":3,"sources":["components/Search.jsx","components/Form.jsx","components/Numbers.jsx","services/NetworkRequests.jsx","App.jsx","index.jsx"],"names":["Search","search","handleSearch","persons","value","onChange","name","some","person","toLowerCase","find","number","Form","handleSubmit","handleChange","state","onSubmit","required","type","Numbers","handleDelete","map","onClick","window","confirm","id","url","App","useState","setPersons","setState","setSearch","text","className","notification","setNotification","useEffect","axios","get","then","res","data","setTimeout","e","target","preventDefault","exists","newObject","put","update","console","log","post","create","concat","delete","deleteReq","personList","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b2aebbb1.chunk.js","sourcesContent":["const Search = ({ search, handleSearch, persons }) => {\n  return (\n    <div>\n      name: <input value={search} onChange={handleSearch} name=\"name\" />\n      <p>\n        {persons.some(\n          (person) => person.name.toLowerCase() === search.toLowerCase()\n        )\n          ? (() => {\n              let person = persons.find(\n                (person) => person.name.toLowerCase() === search.toLowerCase()\n              );\n              return (\n                <span>\n                  {person.name} {person.number}\n                </span>\n              );\n            })()\n          : false}\n      </p>\n    </div>\n  );\n};\n\nexport default Search;\n","const Form = ({ handleSubmit, handleChange, state }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name:{\" \"}\n        <input\n          required\n          value={state.name}\n          onChange={handleChange}\n          name=\"name\"\n        />\n      </div>\n      <div>\n        number:{\" \"}\n        <input\n          required\n          value={state.number}\n          onChange={handleChange}\n          name=\"number\"\n        />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\nexport default Form;\n","const Numbers = ({ persons, handleDelete }) => {\n  return (\n    <div>\n      {persons.map((person) => {\n        return (\n          <p key={person.name}>\n            {person.name} {person.number}{\" \"}\n            <button\n              onClick={() => {\n                if (window.confirm(\"Are you sure\")) {\n                  handleDelete(person.id);\n                } else {\n                  return;\n                }\n              }}>\n              Delete\n            </button>\n          </p>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default Numbers;\n","import axios from \"axios\";\n\nconst url = \"/api/persons\";\n//\"http://localhost:3001/api/persons\"\nconst getAll = () => {\n  return axios.get(url).then((res) => res.data);\n};\n\nconst update = (id, newObject) => {\n  return axios.put(`${url}/${id}`, newObject).then((res) => res.data);\n};\n\nconst create = (newObject) => {\n  return axios.post(url, newObject).then((res) => res.data);\n};\n\nconst deleteReq = (id) => {\n  return axios.delete(`${url}/${id}`).then((res) => res.data);\n};\n\nexport { getAll, update, create, deleteReq };\n","import React, { useState, useEffect } from \"react\";\n//import axios from \"axios\";\nimport Search from \"./components/Search\";\nimport Form from \"./components/Form\";\nimport Numbers from \"./components/Numbers\";\nimport { getAll, update, create, deleteReq } from \"./services/NetworkRequests\";\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [state, setState] = useState({\n    name: \"\",\n    number: \"\",\n  });\n  const [search, setSearch] = useState(\"\");\n  const [notification, setNotification] = useState({\n    text: \"\",\n    className: \"\",\n  });\n  useEffect(() => {\n    getAll().then((data) => {\n      setPersons(data);\n      setNotification({\n        text: \"Fetched data from server\",\n        className: \"green\",\n      });\n      setTimeout(() => {\n        setNotification(\"\");\n      }, 5000);\n    });\n  }, []);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let exists = persons.some((person) => person.name === state.name);\n\n    if (exists) {\n      if (\n        window.confirm(\n          `${state.name} is already exists in phonebook ,replace old number with new number ?`\n        )\n      ) {\n        let person = persons.find((person) => person.name === state.name);\n\n        let newObject = {\n          ...state,\n        };\n\n        update(person.id, newObject).then((data) => {\n          setPersons(\n            persons.map((person) =>\n              person.name === state.name ? data : person\n            )\n          );\n          setState({\n            name: \"\",\n            number: \"\",\n          });\n          setNotification({\n            text: `${data.name} entry updated`,\n            className: \"blue\",\n          });\n          setTimeout(() => {\n            setNotification(\"\");\n          }, 5000);\n        });\n      }\n      return;\n    }\n    console.log(exists);\n\n    let newObject = {\n      ...state,\n    };\n\n    create(newObject).then((data) => {\n      console.log(data);\n      setPersons(persons.concat(data));\n      setState({\n        name: \"\",\n        number: \"\",\n      });\n      setNotification({\n        text: `${data.name} entry created`,\n        className: \"green\",\n      });\n      setTimeout(() => {\n        setNotification(\"\");\n      }, 5000);\n      //console.log(state);\n    });\n  };\n\n  const handleDelete = (id) => {\n    deleteReq(id).then((res) => {\n      const personList = persons.filter((persons) => persons.id !== id);\n      setPersons(personList);\n      setNotification({\n        text: `entry with id ${id} deleted`,\n        className: \"red\",\n      });\n      setTimeout(() => {\n        setNotification(\"\");\n      }, 5000);\n    });\n  };\n  const handleSearch = (e) => {\n    setSearch(e.target.value);\n  };\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <h2>\n        <em className={notification.className}>{notification.text}</em>\n      </h2>\n      <h2>Search</h2>\n      <Search search={search} handleSearch={handleSearch} persons={persons} />\n      <h2>Add a new</h2>\n      <Form\n        handleSubmit={handleSubmit}\n        handleChange={handleChange}\n        state={state}\n      />\n      <h2>Numbers</h2>\n      <Numbers persons={persons} handleDelete={handleDelete} />\n    </div>\n  );\n};\n\nexport default App;\n\n/* { name: \"Arto Hellas\", number: \"040-123456\", id: 1 },\n    { name: \"Ada Lovelace\", number: \"39-44-5323523\", id: 2 },\n    { name: \"Dan Abramov\", number: \"12-43-234345\", id: 3 },\n    { name: \"Mary Poppendieck\", number: \"39-23-6423122\", id: 4 },\n  */\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}